{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedConnect</title>
    <link rel="shortcut icon" href="../img/favicon_io/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{% static "styles/header_e_footer.css" %}">
    <link rel="stylesheet" href="{% static "styles/index.css"%}">
    <link rel="stylesheet" href="{% static "styles/FazerLogin.css"%}">
        <!--AVALIAÇÃO EM ESTRELAS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!--OWL CAROUSEL YOUTUBE-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
        <!--SELECT2-->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        .material-symbols-outlined {
            font-variation-settings:
            'FILL' 10,
            'wght' 200,
            'GRAD' 0,
            'opsz' 36;
            z-index: 1;
            font-size: 36px;
            color: gray;
            font-family: 'Material Symbols Outlined';
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="{% static "js/select.js" %}"></script>
    <script src="{% static "js/login.js" %}"></script>
    <script src="{% static "js/barra_pesquisa.js"%}"></script>
    <script src="{% static "js/login_popup.js"%}"></script>
</head>
<body>
    <!-- MENU SUPERIOR -->
    {% include "inicial/partials/_login.html" %}
    {% include "inicial/partials/_header.html" %}
        <div id="box_banner">
            <span id="text_banner">O melhor local de atendimento para você.</span>
            <div id="banner"></div>
        </div>
        <!--<p>A importância de se avaliar os hospitais</p>-->
        <!--<label for="hospitais"></label>
        <input type="text" id="hospital" name="hospital" size="100"/>-->
        <!--<form id="pesquisa">
            <input type="text" id="input-pesquisa" name="query" placeholder="Digite o nome de um hospital..." size="100">
            <input type="text" id="input-pesquisa" name="query" placeholder="Digite o nome de um hospital...">
        </form>
        <div id="sugestoes-container"></div>-->
        <!--FIM DA BARRA DE PESQUISA-->
        <!--HOSPITAIS MAIS PRÓXIMOS-->
        <main>    
        <h1 id="locais_proximos">LOCAIS DE ATENDIMENTO MELHOR AVALIADOS:</h1>
        {% for hospital in hospitais %}
        <div class="outer-flex-container">
            <div class="inner-flex-container">
                    <div class="inner-flex-item">
                    <!--<p>icon</p>-->
                    <img src="https://cdn-icons-png.flaticon.com/128/3022/3022868.png">
                    </div>
                    <div id="gerais">  
                        <h3><strong><a style="text-decoration:none; color:inherit;" href="{% url "mais_informacoes" hospital.cnes %}">{{ hospital.nome }}</a></strong></h3>
                        <span id="endereco"><small>{{ hospital.endereco }}</small></span>
                        <span id="cep"><small>CEP: {{ hospital.cep }}</small></span>
                        <abbr style="text-decoration:none;" title="Nota média do hospital baseado nas avaliações de usuários: {{ hospital.nota }}"><div class="inner-flex-item">
                            {% for number in counter %}
                                {% if number <= hospital.nota %}
                                <span class="fa fa-star checked"></span>
                                {% else %}
                                <span class="fa fa-star"></span>
                                {% endif %}
                            {% endfor %}
                        </div></abbr>
                    </div>
                        <!-- <div id="container_contato">
                            <span><small>Contato:</small></span> 
                            <div id="contato">
                                <span><small>telefone</small></span>
                                <span><small>e-mail</small></span>
                            </div>
                        </div> -->
                </div>
                    <!-- <div class="inner-flex-item">
                    <!-<p style="text-transform:uppercase;font-weight:bold;">-><p class="nome-hospital">{{ hospital.nome }}<br></p>
                    <p class="endereco-hospital">{{ hospital.endereço }}. {{ hospital.cep }}</p>
                    </div>
                    <!-TEMPOS DE ESPERA POR COR DA FICHA->
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/vermelho_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/laranja_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/amarelo_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/verde_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/azul_r2.png'%}"><br>X min</p>
                    </div> -->
                    <!--AVALIAÇÃO EM ESTRELAS; PRECISA DE INTEGRAÇÃO COM BACK END; PEGUEI DA W3SCHOOLS; REDIMENSIONAR, AUMENTAR TAMANHO-->
                    <div class="informacoes">
                        <div class="tempos_de_espera">
                            <div class="tempos">
                                <span class="c-orange"></span>
                                <span><abbr title="Tempo médio de espera para atendimento de pacientes muito urgentes">{{ hospital.tempo_muito_urgente}} min</abbr></span>
                            </div>
                            <div class="tempos">
                                <span class="c-yellow"></span>
                                <span><abbr title="Tempo médio de espera para atendimento de pacientes urgentes">{{ hospital.tempo_urgente }} min</abbr></span>
                            </div>   
                            <div class="tempos">   
                                <span class="c-green"></span>
                                <span><abbr title="Tempo médio de espera para atendimento de pacientes pouco urgentes">{{ hospital.tempo_pouco_urgente }} min</abbr></span>
                            </div>
                            <div class="tempos">  
                                <span class="c-blue"></span> 
                                <span><abbr title="Tempo médio de espera para atendimento de pacientes não urgentes">{{ hospital.tempo_nao_urgente }} min</abbr></span>  
                            </div>     
                        </div>
                    </div>
            </div>
        </div>
        {% endfor %}
        <h1 id="noticias">NOTÍCIAS:</h1>
        <!--OWL CAROUSEL-->
        <!--<div class="owl-carousel">
            <div>
                <img src="https://www.sodapdf.com/blog/wp-content/uploads/2018/10/blog_how-to-make-a-tutorial-video.jpg" alt="">
                <p>Como realizar a avaliação?<br></p>
                <p>Para realizar uma avaliação, é necessário criar uma conta no site. É um processo simples, mas necessário para que possamos atestar a confiabilidade das avaliações. Clique aqui para saber mais.</p></div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
        </div>-->
        <div class="owl-carousel owl-theme">
            {% for i in news_data %}
            <li>
                <h2>{{ i.0 }}</h2>
                <img src="{{ i.1 }}" alt="Imagem da notícia">
                <p>{{ i.2 }}</p>
                <a href="{{ i.3 }}" target="_blank" rel="noreferrer noopener">Leia mais</a>
            </li>
            {% endfor %}
        </div>
        </main>
        <footer>
            <p>©2023, MedConnect.</p>
            <p>Verde Pântano - Desenvolvimento de Software, 2023/2.</p>
        </footer>
        <!--<script>
            //Evento de digitação no campo de pesquisa??
            document.getElemenyById('input-pesquisa').addEventListener('input',function(){
                const query=this.value.trim();
                //Verifi"cando se a consulta não está vazia
                if(query!== ''){
                    //Envia solicitação AJAX para o servidor para obter sugestões *??
                    //SUBSTITUIR ESSA PARTE COM SUA LÓGICA REAL DE OBTENÇÃO DE SUGESTÕES DO SERVIDOR
                    const suggestions = getSuggestionsFromServer(query);
                    //Atualizar as sugestões no DOM *??
                    displaySuggestions(suggestions);
                }
                else{
                    //Se o campo de pesquisa estiver vazio, limpe as sugestões
                    clearSuggestions();
                }
            });
            function getSuggestionsFromServer(query){
                //SIMULANDO UMA SOLICITAÇÃO AO SERVIDOR PARA OBTER SUGESTÕES
                //SUBSTITUIR ISSO COM SUA LÓGICA DE BUSCA REAL
                const suggestions=[
                    'Hospital Regional do Gama',
                    'Hospital Regional de Santa Maria',
                    'Hospital Regional de Planaltina'
                ];
                return suggestions;
            }
            function displaySuggestions(suggestions){
                const sugestoesContainer=document.getElementById('sugestoes-container');
                sugestoesContainer.innerHTML='';//*??
                suggestions.forEach(function(suggestion){
                    const suggestionElement=document.createElement('div');
                    suggestionElement.textContent=suggestion;
                    suggestionsContainer.appendChild(suggestionElement);
                });
            }
            function clearSuggestions(){
                const suggestionsContainer = document.getElementById('sugestoes-container');
                suggestionsContainer.innerHTML='';
            }
        </script>-->
        <!--OWL CAROUSEL-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
           $('.loop').owlCarousel({
    center: true,
    items:2,
    loop:true,
    margin:10,
    responsive:{
        600:{
            items:4
        }
    }
});
            //INICIANDO
            $(document).ready(function(){
                $(".owl-carousel").owlCarousel();
            });
        </script>
    </body>
</html>