{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedConnect</title>
    <link rel="shortcut icon" href="../img/favicon_io/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{% static "styles/header_e_footer.css" %}">
    <link rel="stylesheet" href="{% static "styles/index.css"%}">
        <!--AVALIAÇÃO EM ESTRELAS-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!--OWL CAROUSEL YOUTUBE-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
        <!--SELECT2-->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        .material-symbols-outlined {
            font-variation-settings:
            'FILL' 10,
            'wght' 200,
            'GRAD' 0,
            'opsz' 36;
            z-index: 1;
            font-size: 36px;
            color: gray;
            font-family: 'Material Symbols Outlined';
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="{% static "js/select.js" %}"></script>
    <script src="{% static "js/login.js" %}"></script>
    <script src="{% static "js/barra_pesquisa.js"%}"></script>
</head>
<body>
    <!-- MENU SUPERIOR -->
    <header>
        <div id="logotipo">
            <img id="icone" src="{% static "img/estetoscopio32px.png"%}" alt="MedConnect logo." />
            <span id="titulo">MedConnect</span>
        </div>
        <nav>         
            <a href="{% url "index" %}" rel="prev" target="_self" style="font-weight: 650;">INÍCIO</a>
            <span class="divisor">|</span>
            <a href="{% url "locais_de_atendimento" %}" target="_self">LOCAIS DE ATENDIMENTO</a>
            <span class="divisor">|</span>
            <a href="area_do_paciente.html" target="_self">PRÉ-TRIAGEM</a>
            <!--<a href="area_do_colaborador.html" target="_self">ÁREA DO COLABORADOR</a>-->
            <span class="divisor">|</span>
            <a href="{% url "duvidas_frequentes" %}" target="_self">DÚVIDAS FREQUENTES</a>
            <!-- 'target="_self"': continua na mesma aba. --> 
        </nav>
        <button id="btnPesquisar">
            <p style="font-size: 15px; font-weight: 500; margin-right: 7px;">PESQUISAR</p>
            <span class="material-symbols-outlined" style="color: black; font-size: 25px;">search</span>
        </button>
        {% if user.is_authenticated %}
            <button type="button" class="login_box">
                <span style="font-size: 11px;">{{ user.username }}</span>
                <span class="material-symbols-outlined">account_circle</span>
            </button>
        {% else %}
            <button type="button" class="login_box">
                <span  style="font-size: 11px;"><a href="{% url "login" %}">Realizar Login</a></span>
                <span class="material-symbols-outlined">account_circle</span>
            </button>
        {% endif %}
            <!--</a>-->
                
        <div class="content_account">
            <button><p style="font-size: 11px; padding: 9px 0;">MEUS DADOS</p></button>
            <button><p style="font-size: 11px; padding: 9px 0;">MINHAS AVALIAÇÕES</p></button>
            <button style="border-radius: 0px 0px 20px 20px;"><p style="font-size: 11px; padding: 9px 0;">SAIR DO PERFIL</p></button>
        </div>

        <!-- <nav>         
            <a href="index.html" rel="prev" target="_self">INÍCIO</a>
            <span class="divisor">|</span>
            <a href="locais_de_atendimento.html" target="_self">LOCAIS DE ATENDIMENTO</a>
            <span class="divisor">|</span>
            <a href="area_do_paciente.html" target="_self">PRÉ-TRIAGEM</a>
            <!-<a href="area_do_colaborador.html" target="_self">ÁREA DO COLABORADOR</a>--
            <span class="divisor">|</span>
            <a href="duvidas_frequentes.html" target="_self">DÚVIDAS FREQUENTES</a>
            <!- 'target="_self"': continua na mesma aba. -- 
        </nav> -->
    </header>
        <section id="pesquisa"> 
            <div id="top-bar1" style="display: none;">
                <span>Selecione o tipo de pesquisa:</span>
                <button id="locais_de_atendimento">Locais de atendimento</button>
                <button id="outras_duvidas">Outras dúvidas</button>
                <button id="fechar_aba" style="display: none;"><span class="material-symbols-outlined" style="font-size: 25px; height: 20px;">
                    close
                    </span></button>
                <!-- <input type="radio" name="..." id="procurar_locais">
                <label for="procurar_locais" title="text" style="font-weight: 400;">Locais de atendimento</label>
                <input type="radio" name="..." id="outras_duvidas">
                <label for="outras_duvidas" title="text" style="font-weight: 400;">Outras dúvidas</label> -->
            </div>
            <div id="top-bar2" style="display: none;">
                <button class="voltar"><i class="uil uil-angle-left" style="font-size: 30px; color: gray;"></i></button>
                <form action="{% url 'buscar' %}">
                <span class="spanPesquisar">
                    <span class="material-symbols-outlined" style="color: black; font-size: 25px">search</span>
                    <input name="buscar" type="text" id="txt_outras_duvidas" placeholder="PESQUISAR..."/>
                </span>
                    <div class="wrapper">
                        {{ filter.uf }}
                    </div>
                    <div class="wrapper">
                        {{ filter.municipio }}
                    </div>
                    <div class="wrapper">
                        {{ filter.especialidade }}
                    </div>
                    <div class="wrapper">
                        {{ filter.categoria }}
                    </div>
                    <button type="submit" id="btnProcurar"><span class="material-symbols-outlined" style="color: black; font-size: 30px">search</span></button>
                </form>
            </div>
            <div id="top-bar3" style="display: none;">
                <button class="voltar"><i class="uil uil-angle-left" style="font-size: 30px; color: gray; margin-left: 25px;"></i></button>
                <span class="spanPesquisar">
                    <span class="material-symbols-outlined" style="color: black; font-size: 25px">search</span>
                    <input type="text" id="txt_pesquisar_locais" placeholder="PESQUISAR..."/>
                </span>
            </div>
        </section> 
    <body>
       
        <!--<p>A importância de se avaliar os hospitais</p>-->
        <!--<label for="hospitais"></label>
        <input type="text" id="hospital" name="hospital" size="100"/>-->
        <!--<form id="pesquisa">
            <input type="text" id="input-pesquisa" name="query" placeholder="Digite o nome de um hospital..." size="100">
            <input type="text" id="input-pesquisa" name="query" placeholder="Digite o nome de um hospital...">
        </form>
        <div id="sugestoes-container"></div>-->
        <!--FIM DA BARRA DE PESQUISA-->
        <!--HOSPITAIS MAIS PRÓXIMOS-->
        <main>
        <h1>LOCAIS DE ATENDIMENTO MAIS PRÓXIMOS:</h1>
        {% for hospital in hospitais %}
        <div class="outer-flex-container">
            <div class="inner-flex-container">
                    <div class="inner-flex-item">
                    <!--<p>icon</p>-->
                    <img src="https://cdn-icons-png.flaticon.com/128/3022/3022868.png">
                    </div>
                    <div id="gerais">  
                        <h3><strong>{{ hospital.nome }}</strong></h3>
                        <span id="endereco"><small>{{ hospital.endereço }}</small></span>
                        <span id="cep"><small>CEP: {{ hospital.cep }}</small></span>
                        <div class="inner-flex-item">
                            {% for number in counter %}
                                {% if number <= hospital.nota %}
                                <span class="fa fa-star checked"></span>
                                {% else %}
                                <span class="fa fa-star"></span>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                        <!-- <div id="container_contato">
                            <span><small>Contato:</small></span> 
                            <div id="contato">
                                <span><small>telefone</small></span>
                                <span><small>e-mail</small></span>
                            </div>
                        </div> -->
                </div>
                    <!-- <div class="inner-flex-item">
                    <!-<p style="text-transform:uppercase;font-weight:bold;">-><p class="nome-hospital">{{ hospital.nome }}<br></p>
                    <p class="endereco-hospital">{{ hospital.endereço }}. {{ hospital.cep }}</p>
                    </div>
                    <!-TEMPOS DE ESPERA POR COR DA FICHA->
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/vermelho_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/laranja_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/amarelo_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/verde_r2.png'%}"><br>X min</p>
                    </div>
                    <div class="inner-flex-item">
                        <p style="text-align:center;"><img src="{% static 'img/azul_r2.png'%}"><br>X min</p>
                    </div> -->
                    <!--AVALIAÇÃO EM ESTRELAS; PRECISA DE INTEGRAÇÃO COM BACK END; PEGUEI DA W3SCHOOLS; REDIMENSIONAR, AUMENTAR TAMANHO-->
                    <div class="informacoes">
                        <div class="tempos_de_espera">
                            <div class="tempos">
                                <span class="c-orange"></span>
                                <span>{{ hospital.tempo_muito_urgente}} min</span>
                            </div>
                            <div class="tempos">
                                <span class="c-yellow"></span>
                                <span>{{ hospital.tempo_urgente }} min</span>
                            </div>   
                            <div class="tempos">   
                                <span class="c-green"></span>
                                <span>{{ hospital.tempo_pouco_urgente }} min</span>
                            </div>
                            <div class="tempos">  
                                <span class="c-blue"></span> 
                                <span>{{ hospital.tempo_nao_urgente }} min</span>  
                            </div>     
                        </div>
                    </div>
            </div>
        </div>
        {% endfor %}
        <h1>NOTÍCIAS:</h1>
        <!--OWL CAROUSEL-->
        <!--<div class="owl-carousel">
            <div>
                <img src="https://www.sodapdf.com/blog/wp-content/uploads/2018/10/blog_how-to-make-a-tutorial-video.jpg" alt="">
                <p>Como realizar a avaliação?<br></p>
                <p>Para realizar uma avaliação, é necessário criar uma conta no site. É um processo simples, mas necessário para que possamos atestar a confiabilidade das avaliações. Clique aqui para saber mais.</p></div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
            <div> Your Content </div>
        </div>-->
        <div class="owl-carousel owl-theme">
            {% for i in news_data %}
            <li>
                <h2>{{ i.0 }}</h2>
                <img src="{{ i.1 }}" alt="Imagem da notícia">
                <p>{{ i.2 }}</p>
                <a href="{{ i.3 }}" target="_blank" rel="noreferrer noopener">Leia mais</a>
            </li>
            {% endfor %}
        </div>
        </main>
        <footer>
            <p>©2023, MedConnect.</p>
            <p>Verde Pântano - Desenvolvimento de Software, 2023/2.</p>
        </footer>
        <!--<script>
            //Evento de digitação no campo de pesquisa??
            document.getElemenyById('input-pesquisa').addEventListener('input',function(){
                const query=this.value.trim();
                //Verifi"cando se a consulta não está vazia
                if(query!== ''){
                    //Envia solicitação AJAX para o servidor para obter sugestões *??
                    //SUBSTITUIR ESSA PARTE COM SUA LÓGICA REAL DE OBTENÇÃO DE SUGESTÕES DO SERVIDOR
                    const suggestions = getSuggestionsFromServer(query);
                    //Atualizar as sugestões no DOM *??
                    displaySuggestions(suggestions);
                }
                else{
                    //Se o campo de pesquisa estiver vazio, limpe as sugestões
                    clearSuggestions();
                }
            });
            function getSuggestionsFromServer(query){
                //SIMULANDO UMA SOLICITAÇÃO AO SERVIDOR PARA OBTER SUGESTÕES
                //SUBSTITUIR ISSO COM SUA LÓGICA DE BUSCA REAL
                const suggestions=[
                    'Hospital Regional do Gama',
                    'Hospital Regional de Santa Maria',
                    'Hospital Regional de Planaltina'
                ];
                return suggestions;
            }
            function displaySuggestions(suggestions){
                const sugestoesContainer=document.getElementById('sugestoes-container');
                sugestoesContainer.innerHTML='';//*??
                suggestions.forEach(function(suggestion){
                    const suggestionElement=document.createElement('div');
                    suggestionElement.textContent=suggestion;
                    suggestionsContainer.appendChild(suggestionElement);
                });
            }
            function clearSuggestions(){
                const suggestionsContainer = document.getElementById('sugestoes-container');
                suggestionsContainer.innerHTML='';
            }
        </script>-->
        <!--OWL CAROUSEL-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
           $('.loop').owlCarousel({
    center: true,
    items:2,
    loop:true,
    margin:10,
    responsive:{
        600:{
            items:4
        }
    }
});
            //INICIANDO
            $(document).ready(function(){
                $(".owl-carousel").owlCarousel();
            });
        </script>
    </body>
</html>